<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Oh o presente aqui</title>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap" rel="stylesheet" />
<style>
body {
  background-color: #f0e6f6; /* Soft lavender */
  font-family: 'Dancing Script', cursive;
  margin: 0;
  padding: 0;
}

/* CARTA */
#envelope {
  position: relative;
  width: 280px;
  height: 180px;
  border-bottom-left-radius: 6px;
  border-bottom-right-radius: 6px;
  margin: 150px auto 0 auto;
  background-color: #d9534f;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
}

.front {
  position: absolute;
  width: 0;
  height: 0;
  z-index: 3;
}

.flap {
  border-left: 140px solid transparent;
  border-right: 140px solid transparent;
  border-bottom: 82px solid transparent;
  border-top: 98px solid #d9534f;
  transform-origin: top;
  pointer-events: none;
}

.pocket {
  border-left: 140px solid #f5a3a2;
  border-right: 140px solid #f5a3a2;
  border-bottom: 90px solid #ff6f61;
  border-top: 90px solid transparent;
  border-bottom-left-radius: 6px;
  border-bottom-right-radius: 6px;
}

.letter {
  position: relative;
  background-color: #fff;
  width: 90%;
  margin: auto;
  height: 90%;
  top: 5%;
  border-radius: 6px;
  box-shadow: 0 2px 26px rgba(0,0,0,0.12);
}

.words {
  position: absolute;
  left: 10%;
  width: 80%;
  height: 14%;
  background-color: #ffe6e6;
}

.words.line1 { top:10%; font-size:0.7rem; width:20%; height:7%; }
.words.line2 { top:30%; text-align:center; font-size:1.1rem; }
.words.line3 { top:50%; font-size:1.1rem; text-align:center; }
.words.line4 { top:70%; font-size:1.1rem; text-align:center; }

.open .flap { transform: rotateX(180deg); transition: transform 0.4s ease, z-index 0.6s; z-index: 1; }
.close .flap { transform: rotateX(0deg); transition: transform 0.4s 0.6s ease, z-index 1s; z-index: 5; }

.close .letter { transform: translateY(0px); transition: transform 0.4s ease, z-index 1s; z-index: 1; }
.open .letter { transform: translateY(-100px); transition: transform 0.4s 0.6s ease, z-index: 0.6s; z-index: 2; }

/* BOTOES */
.reset {
  text-align: center;
  margin-top: 20px;
}

.reset button {
  font-weight: 800;
  background-color: transparent;
  border: solid 2px #d9534f;
  border-radius: 4px;
  color: #d9534f;
  font-size: 14px;
  text-transform: uppercase;
  margin: 5px;
  padding: 10px;
  cursor: pointer;
  transition: all 0.1s linear;
}

.reset button:hover {
  background-color: #d9534f;
  color: #fff;
}

/* BOTAO JOGO */
#goGameBtn {
  display: none;
  padding: 12px 24px;
  font-size: 16px;
  background-color: #ff6fb7;
  color: white;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  margin-top: 15px;
}

/* GRID DE FOTOS */
#photoGrid {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 50px;
  gap: 20px;
}

.photoItem {
  text-align: center;
  opacity: 0;
  transform: translateY(0);
  transition: all 1s ease;
}

.photoItem img {
  width: 220px;
  border-radius: 10px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

.photoItem span {
  display: block;
  margin-top: 5px;
  color: #d9534f;
  font-size: 1.9rem;
  font-weight: bold;
}

/* CONFETES */
.confetti {
  position: fixed;
  width: 10px;
  height: 10px;
  background-color: #ff6fb7;
  top: -10px;
  z-index: 9999;
  border-radius: 50%;
  pointer-events: none;
}
</style>
</head>
<body>

<div class="envlope-wrapper">
  <div id="envelope" class="close">
    <div class="front flap"></div>
    <div class="front pocket"></div>
    <div class="letter">
      <div class="words line1">To: Themise</div>
      <div class="words line2">Promessa foi cumprida.</div>
      <div class="words line3">parabéns senhora, se quer </div>
      <div class="words line4">textão, leia a bíblia.</div>
    </div>
    
  </div>
</div>

<div class="reset">
  <button id="open">Abrir</button>
  <button id="reset">Fechar</button>
  <button id="goGameBtn">Aperte aqui namoral</button>
</div>

<!-- GRID DE FOTOS -->
<div id="photoGrid" style="display:none;">
  <div class="photoItem"><img src="foto2.jpg"><span>Uma pessoa corajosa</span></div>
  <div class="photoItem"><img src="foto3.jpg"><span>Um ser humano lindo</span></div>
  <div class="photoItem"><img src="foto4.jpg"><span>Com estilo</span></div>
  <div class="photoItem"><img src="foto1.jpg"><span>e muito carinhosa </span></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
$(document).ready(function () {
  var envelope = $("#envelope");
  var btn_open = $("#open");
  var btn_reset = $("#reset");
  var gameBtn = $("#goGameBtn");
  var photoGrid = $("#photoGrid");

  envelope.click(function () { openLetter(); });
  btn_open.click(function () { openLetter(); });
  btn_reset.click(function () { closeLetter(); });
  gameBtn.click(function () { window.location.href = 'index.html'; });

  function openLetter(){
    envelope.addClass("open").removeClass("close");
    gameBtn.fadeIn();

    // mostrar o grid de fotos
    photoGrid.show();
    $(".photoItem").each(function(i){
      let item = $(this);
      setTimeout(function(){
        item.css({opacity:1, transform:'translateY(0)'});
      }, i*1200); // fotos saem uma de cada vez
    });

    // CONFETES
    for(let i=0;i<100;i++){
      let confetti = $('<div class="confetti"></div>');
      $('body').append(confetti);
      let x = Math.random() * window.innerWidth;
      let y = -10;
      let color = `hsl(${Math.random()*360}, 100%, 70%)`;
      confetti.css({left:x+'px', top:y+'px', backgroundColor: color});
      animateConfetti(confetti);
    }
  }

  function closeLetter(){
    envelope.addClass("close").removeClass("open");
    gameBtn.fadeOut();
    photoGrid.hide();
  }

  function animateConfetti(confetti){
    let duration = 3000 + Math.random()*2000;
    let endY = window.innerHeight + 10;
    confetti.animate({top:endY+'px', opacity:0}, duration, 'linear', function(){ $(this).remove(); });
  }
});
</script>
</body>
</html>
